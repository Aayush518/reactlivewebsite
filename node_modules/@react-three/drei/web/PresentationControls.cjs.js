"use strict";var e=require("@babel/runtime/helpers/extends"),t=require("react"),r=require("three"),o=require("@react-three/fiber"),n=require("@react-spring/three"),a=require("@use-gesture/react");function s(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var i=s(t);exports.PresentationControls=function({enabled:t=!0,snap:s,global:c,domElement:u,cursor:l=!0,children:f,speed:m=1,rotation:g=[0,0,0],zoom:h=1,polar:d=[0,Math.PI/2],azimuth:b=[-1/0,1/0],config:p={mass:1,tension:170,friction:26}}){const y=o.useThree((e=>e.events)),M=o.useThree((e=>e.gl)),v=u||y.connected||M.domElement,{size:E}=o.useThree(),q=i.useMemo((()=>[g[0]+d[0],g[0]+d[1]]),[g[0],d[0],d[1]]),O=i.useMemo((()=>[g[1]+b[0],g[1]+b[1]]),[g[1],b[0],b[1]]),P=i.useMemo((()=>[r.MathUtils.clamp(g[0],...q),r.MathUtils.clamp(g[1],...O),g[2]]),[g[0],g[1],g[2],q,O]),[j,z]=n.useSpring((()=>({scale:1,rotation:P,config:p})));i.useEffect((()=>{z.start({scale:1,rotation:P,config:p})}),[P]),i.useEffect((()=>{if(c&&l&&t)return v.style.cursor="grab",M.domElement.style.cursor="",()=>{v.style.cursor="default",M.domElement.style.cursor="default"}}),[c,l,v,t]);const U=a.useGesture({onHover:({last:e})=>{l&&!c&&t&&(v.style.cursor=e?"auto":"grab")},onDrag:({down:e,delta:[o,n],memo:[a,i]=j.rotation.animation.to||P})=>{if(!t)return[n,o];l&&(v.style.cursor=e?"grabbing":"grab"),o=r.MathUtils.clamp(i+o/E.width*Math.PI*m,...O),n=r.MathUtils.clamp(a+n/E.height*Math.PI*m,...q);const c=s&&!e&&"boolean"!=typeof s?s:p;return z.start({scale:e&&n>q[1]/2?h:1,rotation:s&&!e?P:[n,o,0],config:e=>"scale"===e?{...c,friction:3*c.friction}:c}),[n,o]}},{target:c?v:void 0});return i.createElement(n.a.group,e({},null==U?void 0:U(),j),f)};
