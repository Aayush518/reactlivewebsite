"use strict";var e=require("@babel/runtime/helpers/extends"),r=require("three"),t=require("react"),n=require("react-merge-refs"),u=require("three-stdlib"),a=require("@react-three/fiber");function c(e){var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var o=c(r),s=c(t);const l=s.createContext(null),i=s.forwardRef((({resolution:r=28,maxPolyCount:t=1e4,enableUvs:c=!1,enableColors:o=!1,children:i,...f},d)=>{const m=s.useRef(null),b=s.useMemo((()=>new u.MarchingCubes(r,null,c,o,t)),[r,t,c,o]),g=s.useMemo((()=>({getParent:()=>m})),[]);return a.useFrame((()=>{b.update(),b.reset()}),-1),s.createElement(s.Fragment,null,s.createElement("primitive",e({object:b,ref:n([m,d])},f),s.createElement(l.Provider,{value:g},i)))})),f=s.forwardRef((({strength:r=.5,subtract:t=12,color:u,...c},i)=>{const{getParent:f}=s.useContext(l),d=s.useMemo((()=>f()),[f]),m=s.useRef(),b=new o.Vector3;return a.useFrame((e=>{d.current&&m.current&&(m.current.getWorldPosition(b),d.current.addBall(.5+.5*b.x,.5+.5*b.y,.5+.5*b.z,r,t,u))})),s.createElement("group",e({ref:n([i,m])},c))})),d=s.forwardRef((({planeType:r="x",strength:t=.5,subtract:u=12,...c},o)=>{const{getParent:i}=s.useContext(l),f=s.useMemo((()=>i()),[i]),d=s.useRef(),m=s.useMemo((()=>"x"===r?"addPlaneX":"y"===r?"addPlaneY":"addPlaneZ"),[r]);return a.useFrame((()=>{f.current&&d.current&&f.current[m](t,u)})),s.createElement("group",e({ref:n([o,d])},c))}));exports.MarchingCube=f,exports.MarchingCubes=i,exports.MarchingPlane=d;
