"use strict";var e=require("@babel/runtime/helpers/extends"),t=require("react"),r=require("@react-three/fiber"),a=require("three"),o=require("./GizmoHelper.cjs.js");function l(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}require("./OrthographicCamera.cjs.js"),require("react-merge-refs"),require("./useFBO.cjs.js"),require("./Hud.cjs.js");var n=l(t);function i({scale:e=[.8,.05,.05],color:t,rotation:r}){return n.createElement("group",{rotation:r},n.createElement("mesh",{position:[.4,0,0]},n.createElement("boxGeometry",{args:e}),n.createElement("meshBasicMaterial",{color:t,toneMapped:!1})))}function c({onClick:t,font:o,disabled:l,arcStyle:i,label:c,labelColor:s,axisHeadScale:u=1,...p}){const m=r.useThree((e=>e.gl)),f=n.useMemo((()=>{const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d");return t.beginPath(),t.arc(32,32,16,0,2*Math.PI),t.closePath(),t.fillStyle=i,t.fill(),c&&(t.font=o,t.textAlign="center",t.fillStyle=s,t.fillText(c,32,41)),new a.CanvasTexture(e)}),[i,c,s,o]),[d,b]=n.useState(!1),g=(c?1:.75)*(d?1.2:1)*u;return n.createElement("sprite",e({scale:g,onPointerOver:l?void 0:e=>{e.stopPropagation(),b(!0)},onPointerOut:l?void 0:t||(e=>{e.stopPropagation(),b(!1)})},p),n.createElement("spriteMaterial",{map:f,"map-anisotropy":m.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:c?1:.75,toneMapped:!1}))}exports.GizmoViewport=({hideNegativeAxes:t,hideAxisHeads:r,disabled:a,font:l="18px Inter var, Arial, sans-serif",axisColors:s=["#ff2060","#20df80","#2080ff"],axisHeadScale:u=1,axisScale:p,labels:m=["X","Y","Z"],labelColor:f="#000",onClick:d,...b})=>{const[g,h,E]=s,{tweenCamera:x}=o.useGizmoContext(),y={font:l,disabled:a,labelColor:f,onClick:d,axisHeadScale:u,onPointerDown:a?void 0:e=>{x(e.object.position),e.stopPropagation()}};return n.createElement("group",e({scale:40},b),n.createElement(i,{color:g,rotation:[0,0,0],scale:p}),n.createElement(i,{color:h,rotation:[0,0,Math.PI/2],scale:p}),n.createElement(i,{color:E,rotation:[0,-Math.PI/2,0],scale:p}),!r&&n.createElement(n.Fragment,null,n.createElement(c,e({arcStyle:g,position:[1,0,0],label:m[0]},y)),n.createElement(c,e({arcStyle:h,position:[0,1,0],label:m[1]},y)),n.createElement(c,e({arcStyle:E,position:[0,0,1],label:m[2]},y)),!t&&n.createElement(n.Fragment,null,n.createElement(c,e({arcStyle:g,position:[-1,0,0]},y)),n.createElement(c,e({arcStyle:h,position:[0,-1,0]},y)),n.createElement(c,e({arcStyle:E,position:[0,0,-1]},y)))))};
