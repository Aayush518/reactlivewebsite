"use strict";var e=require("@babel/runtime/helpers/extends"),r=require("react"),t=require("@react-three/fiber"),n=require("three-stdlib");function s(e){var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var o=s(r);const u=o.forwardRef((({domElement:r,makeDefault:s,...u},c)=>{const a=t.useThree((e=>e.camera)),i=t.useThree((e=>e.gl)),l=t.useThree((e=>e.events)),f=t.useThree((e=>e.get)),b=t.useThree((e=>e.set)),m=r||l.connected||i.domElement,[d]=o.useState((()=>new n.FirstPersonControls(a,m)));return o.useEffect((()=>{if(s){const e=f().controls;return b({controls:d}),()=>b({controls:e})}}),[s,d]),t.useFrame(((e,r)=>{d.update(r)}),-1),d?o.createElement("primitive",e({ref:c,object:d},u)):null}));exports.FirstPersonControls=u;
