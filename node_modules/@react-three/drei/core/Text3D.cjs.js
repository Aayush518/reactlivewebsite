"use strict";var e=require("@babel/runtime/helpers/extends"),t=require("react"),r=require("@react-three/fiber"),n=require("three-stdlib"),s=require("./useFont.cjs.js");function u(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}require("suspend-react");var c=u(t);const i=["string","number"],l=c.forwardRef((({font:u,letterSpacing:l=0,lineHeight:o=1,size:a=1,height:m=.2,bevelThickness:f=.1,bevelSize:b=.01,bevelEnabled:g=!1,bevelOffset:h=0,bevelSegments:v=4,curveSegments:d=8,smooth:p,children:y,...x},O)=>{c.useMemo((()=>r.extend({RenamedTextGeometry:n.TextGeometry})),[]);const S=c.useRef(null),j=s.useFont(u),E=t.useMemo((()=>({font:j,size:a,height:m,bevelThickness:f,bevelSize:b,bevelEnabled:g,bevelSegments:v,bevelOffset:h,curveSegments:d,letterSpacing:l,lineHeight:o})),[j,a,m,f,b,g,v,h,d,l,o]),[q,...T]=t.useMemo((()=>(e=>{let t="";const r=[];return c.Children.forEach(e,(e=>{i.includes(typeof e)?t+=e+"":r.push(e)})),[t,...r]})(y)),[y]),z=c.useMemo((()=>[q,E]),[q,E]);return c.useLayoutEffect((()=>{p&&(S.current.geometry=n.mergeVertices(S.current.geometry,p),S.current.geometry.computeVertexNormals())}),[z,p]),c.useImperativeHandle(O,(()=>S.current),[]),c.createElement("mesh",e({},x,{ref:S}),c.createElement("renamedTextGeometry",{args:z}),T)}));exports.Text3D=l;
