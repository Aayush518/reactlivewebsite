"use strict";var e=require("@babel/runtime/helpers/extends"),r=require("@react-three/fiber"),t=require("react"),a=require("three"),c=require("react-merge-refs");function l(e){var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var n=l(t),i=l(a);const o=n.forwardRef((({args:t,map:a,toneMapped:l=!1,color:o="white",form:u="rect",intensity:s=1,scale:m=1,target:f,children:p,...y},g)=>{const b=n.useRef(null);return n.useLayoutEffect((()=>{p||y.material||(r.applyProps(b.current.material,{color:o}),b.current.material.color.multiplyScalar(s))}),[o,s,p,y.material]),n.useLayoutEffect((()=>{f&&b.current.lookAt(Array.isArray(f)?new i.Vector3(...f):f)}),[f]),m=Array.isArray(m)&&2===m.length?[m[0],m[1],1]:m,n.createElement("mesh",e({ref:c([b,g]),scale:m},y),"circle"===u?n.createElement("ringGeometry",{args:[0,1,64]}):"ring"===u?n.createElement("ringGeometry",{args:[.5,1,64]}):"rect"===u?n.createElement("planeGeometry",null):n.createElement(u,{args:t}),p||(y.material?null:n.createElement("meshBasicMaterial",{toneMapped:l,map:a,side:i.DoubleSide})))}));exports.Lightformer=o;
