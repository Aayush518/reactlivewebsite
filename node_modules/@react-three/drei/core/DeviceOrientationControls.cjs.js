"use strict";var e=require("@babel/runtime/helpers/extends"),t=require("@react-three/fiber"),r=require("react"),n=require("three-stdlib");function u(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var c=u(r);const o=c.forwardRef(((r,u)=>{const{camera:o,onChange:i,makeDefault:s,...a}=r,l=t.useThree((e=>e.camera)),f=t.useThree((e=>e.invalidate)),v=t.useThree((e=>e.get)),d=t.useThree((e=>e.set)),b=o||l,[h]=c.useState((()=>new n.DeviceOrientationControls(b)));return c.useEffect((()=>{const e=e=>{f(),i&&i(e)};return null==h||null==h.addEventListener||h.addEventListener("change",e),()=>null==h||null==h.removeEventListener?void 0:h.removeEventListener("change",e)}),[i,h,f]),t.useFrame((()=>null==h?void 0:h.update()),-1),c.useEffect((()=>{const e=h;return null==e||e.connect(),()=>null==e?void 0:e.dispose()}),[h]),c.useEffect((()=>{if(s){const e=v().controls;return d({controls:h}),()=>d({controls:e})}}),[s,h]),h?c.createElement("primitive",e({ref:u,object:h},a)):null}));exports.DeviceOrientationControls=o;
